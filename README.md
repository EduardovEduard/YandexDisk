YandexDisk
==========

YandexDisk plugin for chrome

1) JS расширение, которое сейчас не интересно.

2) C++ Прослойка между брауером и приложением, делающим скриншот. 
Как пользоваться:

1) Скачать DiskExt и поставить в браузере расширением.
2) Скачать DiskProxy, это целое решение VS 2012 с откомпиленными файлами (на случай если студии нет). 
Должны работать на Windows 7 x64. возможно придется положить рядом dll-ки с С и С++ Runtime.

В папке Debug находится 2 бинарника.
DiskTest - Это сервер. При запуске слушает 23456 порт, и выводит сообщения если что-то пришло.
ru.yandexdisk.host - Это та самая прослойка, и с ее запуском все интереснее. Рядом лежит manifest.json. 
Чтобы все заработало нужно:
  Положить этот manifest.json куда-нибудь далеко, чтобы потом, случайно не удалить его.
  Создать в реестре ключ HKEY_CURRENT_USER\Software\Google\Chrome\NativeMessagingHosts\ru.yandexdisk.host, 
и присвоить его значению по умолчанию путь к манифесту (например "C:\ChromeTest\manifest.json"). Хром будет смотреть именно сюда.
  В манифесте прописан относительный путь к exe-шнику. Положить ru.yandexdisk.host по этому пути. (просто рядом с манифестом).
  
Если все сделано правильно, то запустив сервер, и потыкав на ссылочки в расширении, увидим что сервер печатает что-то адекватное,
а не падает с эксепшеном.

UPDATE 1: Я, к сожалению, не тестировал на других машинах, поэтому может получиться так, что exe-шники откажутся запускаться и затребуют dll-ки. Должно решиться установкой Visual C++ SDK, или просто удовлетворением нужд в библиотеках, путем скачивания их из инета.

UPDATE 2: Более критично. в манифесте жестко забито URL расширения, которому разрешается использовать прослойку. "allowed_origins": [
    "chrome-extension://ejdnpligipchoffphofhfebmnmhdbkep/"
    ]
Я так понимаю, хром дает его при установке расширения, поэтому, возможно, придется поправить ручками манифест. Посмотреть ID можно на вкладке chrome://extensions напротив соответствующего расширения.
